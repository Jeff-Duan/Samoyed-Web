<!DOCTYPE html>
<html lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title th:utext="#{project.name}"></title>
    <link href="../../static/css/element/index.css" rel="stylesheet" th:href="@{/css/element/index.css}">
    <!-- 自定义css文件 -->
    <link href="../../static/css/common.css" rel="stylesheet" th:href="@{/css/common.css}">
</head>

<body>

    <div th:replace="~{nav :: nav('purchaseOrder')}"></div>
    <div th:replace="~{header :: header}"></div>
    <div class="margin-helper">
        <div class="samoyed-content">
            <div th:replace="~{pageHead :: pageHead(pageName=#{nav.purchaseOrder}, parentMenu=#{nav.purchase})}"></div>
            <div id="page-content" class="page-content" v-cloak>

                <div class="type-menu">
                    <el-menu default-active="all" mode="horizontal" @select="handleSelectType">
                        <el-menu-item index="all" th:text="#{common.all}"></el-menu-item>
                        <el-menu-item index="toAudit" th:text="#{common.toAudit}"></el-menu-item>
                        <el-menu-item index="toPay" th:text="#{common.toPay}"></el-menu-item>
                        <el-menu-item index="toDelivery" th:text="#{common.toDelivery}"></el-menu-item>
                        <el-menu-item index="toAcceptance" th:text="#{common.toAcceptance}"></el-menu-item>
                        <el-menu-item index="toCancel" th:text="#{common.toCancel}"></el-menu-item>
                        <el-menu-item index="toStorage" th:text="#{common.toStorage}"></el-menu-item>
                        <el-menu-item index="isStorage" th:text="#{common.isStorage}"></el-menu-item>
                    </el-menu>
                </div>

                <el-table :data="tableData">
                    <el-table-column type="selection">
                    </el-table-column>
                    <el-table-column prop="orderNumber" th:label="#{common.orderNumber}">
                    </el-table-column>
                    <el-table-column prop="supplier.supplierName" th:label="#{common.supplier}">
                    </el-table-column>
                    <el-table-column prop="user.userName" th:label="#{common.purchaseUser}">
                    </el-table-column>

                    <el-table-column th:label="#{common.status}">
                        <template slot-scope="scope">
                            <span class="normal-color" v-if="scope.row.orderStatusId=='1'" th:text="#{common.toAudit}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='2'" th:text="#{common.toPay}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='3'" th:text="#{common.toDelivery}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='4'" th:text="#{common.toAcceptance}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='5'" th:text="#{common.toCancel}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='6'" th:text="#{common.toStorage}"></span>
                            <span class="normal-color" v-else-if="scope.row.orderStatusId=='7'" th:text="#{common.isStorage}"></span>
                            <span class="normal-color" v-else th:text="#{common.notStatus}"></span>
                        </template>
                    </el-table-column>
                    <el-table-column th:label="#{common.operation}">
                        <template slot-scope="scope">
                            <el-button size="mini" th:text="#{common.edit}" @click="handleEdit(scope.$index, scope.row)"></el-button>
                            <el-button size="mini" type="danger" th:text="#{common.delete}" @click="handleDelete(scope.$index, scope.row)"></el-button>
                        </template>
                    </el-table-column>




                </el-table>

            </div>
        </div>
    </div>
    <div th:replace="~{footer :: footer}"></div>

    <script src="../../static/js/vue.js" th:src="@{/js/vue.js}"></script>
    <script src="../../static/js/element.js" th:src="@{/js/element.js}"></script>
    <script src="../../static/js/jquery-3.3.1.min.js" th:src="@{/js/jquery-3.3.1.min.js}"></script>
    <script src="../../static/js/utils.js" th:src="@{/js/utils.js}"></script>
    <!-- 引用vue组件相关的js文件 -->
    <div th:replace="~{nav :: vue('purchaseOrder')}"></div>
    <div th:replace="~{header :: vue}"></div>
    <div th:replace="~{footer :: vue}"></div>
    <!-- 本页面的js脚本 -->
    <script th:inline="javascript">
        new Vue({
            el: '#page-content',
            data: {
                tableData: [],
            },
            created: function () {
                this.tableData = getPurchaseOrders();
            },
            methods: {
                //
                handleSelectType: function (index) {
                    if (this.activeIndex !== index) {
                        this.activeIndex = index;
                    }
                },
                handleEdit(index, row) {
                    console.log(index, row);
                },
                handleDelete(index, row) {
                    console.log(index, row);
                }
            },
        });
    </script>

</body>

</html>